<header class="header">
  <nav class="navbar">
    <div class="logo-search">
      <a href="/dashboard" class="logo"
        ><img src="/imgs/WK.png" alt="wk logo"
      /></a>

      <!-- Search Bar -->
      <div class="search-bar">
        <input
          type="text"
          placeholder="Search articles..."
          aria-label="Search articles"
          id="searchInput"
        />
        <button
          type="button"
          class="clear-btn"
          aria-label="Clear"
          onclick="clearSearch()"
        >
          &times;
        </button>
      </div>
    </div>
    <script>
      function clearSearch() {
        const input = document.getElementById("searchInput");
        input.value = "";
        input.focus();
      }
    </script>

    <ul class="nav-links">
      <li>
        <a class="btn-create-account" href="/create">Create Post</a>
      </li>

      <!-- Notification Icon -->
      <li class="nav-item">
        <a href="/profile">
          <div class="notification-container">
            <div class="notification-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M12 22c1.38 0 2.5-1.12 2.5-2.5h-5c0 1.38 1.12 2.5 2.5 2.5z"
                ></path>
                <path
                  d="M18 8c0-3.31-2.69-6-6-6s-6 2.69-6 6c0 7-3 8-3 8h18s-3-1-3-8z"
                ></path>
              </svg>
              <span class="notification-badge" id="notificationCount">0</span>
            </div>
          </div>
        </a>
      </li>

      <!-- Profile Picture as a Link -->
      <li class="nav-item">
        <a href="/profile">
          <img
            src="/images/profile-placeholder.png"
            alt="Profile"
            class="profile-icon"
          />
        </a>
      </li>
    </ul>
  </nav>
</header>

<script>
  // Example: Updating notification count dynamically
  function updateNotifications(count) {
    const notificationCount = document.getElementById("notificationCount");
    if (count > 0) {
      notificationCount.textContent = count;
      notificationCount.style.display = "inline";
    } else {
      notificationCount.style.display = "none";
    }
  }

  // Simulated notification update after post creation
  document.addEventListener("DOMContentLoaded", function () {
    let newNotifications = 0; // Change this dynamically based on backend
    updateNotifications(newNotifications);
  });
</script>
